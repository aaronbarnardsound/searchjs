<html>
	<head>
		<title>searchjs browser demo</title>
		<script type="text/javascript" src="jquery-1.7.1.min.js"></script>
		<script type="text/javascript" src="json2.js"></script>
		<script type="text/javascript" src="lib/searchjs.js"></script>
		<script type="text/javascript">
			$(document).ready(function(){
				var data, searches, table;
				
				data = [
					{name:"Alice",age:25},
					{name:"Brian",age:30},
					{name:"Carrie",age:30},
					{name:"David",age:35},
					{name:"Alice",age:30}
				];
				searches = [
					{name:"alice"},
					{name:"brian"},
					{name:"alice",_not: true},
					{age:25},
					{age:30},
					{age:35, name: "Alice", _join: "OR"},
					{age:35, name: "Alice", _not: true},
					{terms: [{age:30,name:"Brian",_join:"AND"},{age:25}], _join:"OR"}
				];
				
				// show the data
				$("div#data").text(JSON.stringify(data));
				
				// show the search options
				table = $("div#search table tbody");
				$.each(searches,function(i,s){
					var row = $("<tr></tr>"), tds = $("<td></td>").addClass("row").addClass("clickable").
						text(JSON.stringify(s)).appendTo(row);
					row.appendTo(table);
					tds.click(function(){
						var results = SEARCHJS.matchArray(data,s);
						$("div#results").text(JSON.stringify(results));
					});
				});
			});
		</script>
		<style>
			.row {
				border:1px solid #dddddd; 
				background-color: #eeeeee; 
				padding:3px;
			}
			.div {
				border:1px solid #dddddd;
				padding: 3px;
				margin: 5px;
			}
			.results {
				border:1px solid red; 
				background-color: #eeeeee; 
				padding:3px;
			}
			.clickable {
				cursor: pointer;
			}
		</style>
	</head>
	<body>
		<h2>searchjs Demo</h2>
		This page gives a demo for using searchjs. Look at the source to this page to see how it is done.
		<div class="div">
			Data:
			<div id="data" class="row">
			</div>
		</div>
		<div class="div">
			Click on a row to see the results of applying that search to the data above.
			<div id="search">
				<table>
					<tbody>
					</tbody>
				</table>
			</div>
		</div>
		<div class="div">
			Results:
			<div id="results" class="results">
			</div>
		</div>
	</body>
</html>